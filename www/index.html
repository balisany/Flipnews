<html>

<head>
	<link href="css/style.css" rel="stylesheet">  
	<script src="js/json2.js"></script>
	<script src="js/jquery.min.js"></script>
	<script src="js/jstorage.js"></script>
	
	
	
<style>


	#main{
		width: 360px;
		min-height: 400px;
		border: 1px solid #eee;
		margin: auto;
	}
	
	
	
</style>

</head>
    <body cz-shortcut-listen="true">
        <div id="main">
        <span id="edit">edit</span>
        <span id="done">done</span>
        <div id="cat-creation">
        	<ul id="cats">
<!--        		<li><button>Kurdish News</button></li>
             	<li><button>Arabic News</button> </li>-->
        	</ul >
			
			<div id="felt-rad"><input type="text" id="cat-def" name="" value="" /> <span id="icon-add"></span></div>
        </div>
	</div>
	<p>

	  <span id="count"></span>
	  
	</p>

	
    </body>
    <script>
    	
        $('#icon-add').click(function(){
        var dd = $('#cat-def').val();
        
        	if(dd!=''){
        				var dn =(dd).toLowerCase();
        				var nn = "cat-"+(dn).replace(/\s/g, "");
        				$.jStorage.set(nn, dd);
        				$('<li id="'+nn+'"><span class="delcat" id="'+nn+'">DEL</span><button type="submit" id="'+nn+'" name="'+nn+'">'+dd+'</button></li>').hide().appendTo("#cats").fadeIn(2000);
        				$('.delcat').hide();
                       var b = $.jStorage.get(nn);
                       //$('#count').append(b);
                       history.go(0);
                 }
             });
             var index = $.jStorage.index();
             // $('#count').append(index + "<br />");
          
			$(index).each(function(i) {
					var b = $.jStorage.get(index[i]);
					//$('#count').append(b + " <br />");
					if (this.indexOf("cat-") >= 0)
					{
					$('<li class="catlist" id="'+index[i]+'"><span class="delcat" id="'+index[i]+'">DEL</span> <button type="submit" id="'+index[i]+'"  name="'+index[i]+'">'+b+'</button></li>').hide().appendTo("#cats").fadeIn(1000);
//					  $(".catlist").hide();
//					  $(".catlist").each(function(){
//					     $('.catlist:contains("cat")').show();
//					   });
					}
					$('.delcat').hide();
				});
				
				
				//:contains("cat")
				
			$('#done').hide();
			$('#edit').click(function() {
				$('#done').show();
				$(this).hide();
				$('.delcat').fadeIn();
				$('li').css('background','none');
				$('#felt-rad').fadeOut();
			});
			
			$('#done').click(function() {
				$('#edit').show();
				$(this).hide();
								$('.delcat').hide();
								$('li').css('background','url(src/arrow.png) no-repeat');
								$('li').css('background-position','254px 22px');
				$('#felt-rad').fadeIn();
				});
			
			
			$('.delcat').on('click',function(e){
				e.preventDefault();
				var del = $(this).attr('id');
				$('li#'+del).each(function(){
					$(this).fadeOut(600);
					$.jStorage.deleteKey(del);
				});
				
						//		
			     });
			
			//$.jStorage.deleteKey(key)
             
    </script>
    
    </html>



